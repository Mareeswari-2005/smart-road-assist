const mongoose = require('mongoose');\nconst Shop = require('./models/Shop');\nrequire('dotenv').config();\n\nasync function testAllMechanicsAPI() {\n  try {\n    await mongoose.connect(process.env.MONGODB_URI);\n    console.log('Connected to MongoDB');\n    \n    // Test the database query directly\n    const allShops = await Shop.find().populate('mechanicId', 'name email phone');\n    \n    console.log(`\\n=== ALL MECHANICS IN DATABASE ===`);\n    console.log(`Total mechanics found: ${allShops.length}\\n`);\n    \n    if (allShops.length === 0) {\n      console.log('No mechanics found in database');\n      process.exit(0);\n    }\n    \n    // Group by location (simplified - by address)\n    const locationGroups = {};\n    \n    allShops.forEach((shop, index) => {\n      const location = shop.address.split(',')[0] || 'Unknown';\n      if (!locationGroups[location]) {\n        locationGroups[location] = [];\n      }\n      locationGroups[location].push({\n        index: index + 1,\n        shopName: shop.shopName,\n        owner: shop.mechanicId.name,\n        phone: shop.mechanicId.phone,\n        email: shop.mechanicId.email,\n        address: shop.address,\n        services: shop.services.join(', '),\n        rating: shop.averageRating,\n        isOnline: shop.isOnline ? 'ONLINE' : 'OFFLINE',\n        coordinates: shop.location.coordinates\n      });\n    });\n    \n    // Display by location groups first\n    console.log('=== MECHANICS GROUPED BY LOCATION ===\\n');\n    Object.keys(locationGroups).forEach(location => {\n      console.log(`ðŸ“ ${location.toUpperCase()} (${locationGroups[location].length} mechanics)`);\n      console.log('â”€'.repeat(50));\n      \n      locationGroups[location].forEach(mechanic => {\n        console.log(`${mechanic.index}. ${mechanic.shopName}`);\n        console.log(`   Owner: ${mechanic.owner}`);\n        console.log(`   Status: ${mechanic.isOnline}`);\n        console.log(`   Services: ${mechanic.services}`);\n        console.log(`   Rating: â­ ${mechanic.rating}/5.0`);\n        console.log(`   Phone: ${mechanic.phone}`);\n        console.log(`   Address: ${mechanic.address}`);\n        console.log(`   Coordinates: [${mechanic.coordinates[0]}, ${mechanic.coordinates[1]}]`);\n        console.log('');\n      });\n    });\n    \n    // Summary\n    const onlineCount = allShops.filter(shop => shop.isOnline).length;\n    const offlineCount = allShops.length - onlineCount;\n    \n    console.log('=== SUMMARY ===');\n    console.log(`Total Mechanics: ${allShops.length}`);\n    console.log(`Online: ${onlineCount}`);\n    console.log(`Offline: ${offlineCount}`);\n    console.log(`Locations: ${Object.keys(locationGroups).length}`);\n    \n    process.exit(0);\n  } catch (error) {\n    console.error('Error:', error);\n    process.exit(1);\n  }\n}\n\ntestAllMechanicsAPI();